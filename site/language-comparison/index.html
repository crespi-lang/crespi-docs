
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://crespilang.izantech.app/language-comparison/">
      
      
      
      
        
          <link rel="alternate" href="../" hreflang="en">
        
          <link rel="alternate" href="../es/" hreflang="es">
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Crespi vs. Kotlin vs. Swift: Feature Comparison Report - Crespi Lang Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/dracula.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/crespi-code.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#crespi-vs-kotlin-vs-swift-feature-comparison-report" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Crespi Lang Docs" class="md-header__button md-logo" aria-label="Crespi Lang Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Crespi Lang Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Crespi vs. Kotlin vs. Swift: Feature Comparison Report
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../es/" hreflang="es" class="md-select__link">
              Espa√±ol
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/crespi-lang/crespi-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    crespi-lang/crespi-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Crespi Lang Docs" class="md-nav__button md-logo" aria-label="Crespi Lang Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Crespi Lang Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/crespi-lang/crespi-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    crespi-lang/crespi-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Language Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Language Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variables and Constants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/control-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/collections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lists and Dictionaries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Classes and Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Language Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Language Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/keywords/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Keywords
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/operators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Built-in Functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/grammar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grammar (ANTLR4)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/reference/ffi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FFI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Execution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Execution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/interpreter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interpreter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../en/guide/compiler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compiler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-core-syntax-keywords" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Core Syntax &amp; Keywords
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-control-flow-pattern-matching" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Control Flow &amp; Pattern Matching
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-type-system-null-safety" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Type System &amp; Null Safety
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-memory-management-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Memory Management &amp; Runtime
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-uniquedistinctive-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Unique/Distinctive Features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-missing-features-gaps-vs-kotlinswift" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Missing Features (Gaps vs. Kotlin/Swift)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#61-recently-added-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Recently Added Features
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-compiler-optimization-roadmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Compiler Optimization Roadmap
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Compiler Optimization Roadmap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#current-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Current State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lessons-from-kotlin-swift" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lessons from Kotlin &amp; Swift
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended-improvements-for-crespi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended Improvements for Crespi
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-generics-metaprogramming" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Generics &amp; Metaprogramming
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Generics &amp; Metaprogramming">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metaprogramming" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metaprogramming
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-concurrency" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Concurrency
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-error-handling-diagnostics" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Error Handling &amp; Diagnostics
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-ffi-interoperability" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. FFI &amp; Interoperability
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-ecosystem-tooling" class="md-nav__link">
    <span class="md-ellipsis">
      
        12. Ecosystem &amp; Tooling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-reflection-introspection" class="md-nav__link">
    <span class="md-ellipsis">
      
        13. Reflection &amp; Introspection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-type-system-nuances" class="md-nav__link">
    <span class="md-ellipsis">
      
        14. Type System Nuances
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14. Type System Nuances">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variance-generics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variance (Generics)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums-vs-union-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enums vs. Union Types
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-target-platforms-portability" class="md-nav__link">
    <span class="md-ellipsis">
      
        15. Target Platforms &amp; Portability
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-philosophy-design-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        16. Philosophy &amp; Design Goals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="crespi-vs-kotlin-vs-swift-feature-comparison-report">Crespi vs. Kotlin vs. Swift: Feature Comparison Report<a class="headerlink" href="#crespi-vs-kotlin-vs-swift-feature-comparison-report" title="Permanent link">&para;</a></h1>
<p><strong>Crespi</strong> is a modern, statically typed language with Hindley-Milner style type inference. It blends the ergonomic syntax of <strong>Kotlin</strong> with the structural patterns of <strong>Swift</strong> and the keyword brevity of <strong>Rust</strong>. It runs on a dual-engine architecture: a tree-walking interpreter for development/scripting and an LLVM-based native compiler for production.</p>
<h2 id="1-core-syntax-keywords">1. Core Syntax &amp; Keywords<a class="headerlink" href="#1-core-syntax-keywords" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
<th style="text-align: left;">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Function Decl</strong></td>
<td style="text-align: left;"><code>fn name(arg: T) -&gt; T</code></td>
<td style="text-align: left;"><code>fun name(arg: T): T</code></td>
<td style="text-align: left;"><code>func name(_ arg: T) -&gt; T</code></td>
<td style="text-align: left;">Crespi uses Rust-style <code>fn</code> and <code>-&gt;</code> but follows Kotlin's simplicity (no argument labels).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Variables</strong></td>
<td style="text-align: left;"><code>var</code> (mut), <code>let</code> (immut)</td>
<td style="text-align: left;"><code>var</code> (mut), <code>val</code> (immut)</td>
<td style="text-align: left;"><code>var</code> (mut), <code>let</code> (immut)</td>
<td style="text-align: left;">Crespi matches Swift's <code>let</code> for immutability.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Generics</strong></td>
<td style="text-align: left;"><code>List[T]</code> (Square brackets)</td>
<td style="text-align: left;"><code>List&lt;T&gt;</code> (Angle brackets)</td>
<td style="text-align: left;"><code>List&lt;T&gt;</code> (Angle brackets)</td>
<td style="text-align: left;">Crespi uses <code>[]</code> for generics (like Python/Scala) to avoid parser ambiguities.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Constructors</strong></td>
<td style="text-align: left;"><code>class Point(var x, let y)</code></td>
<td style="text-align: left;"><code>class Point(val x, val y)</code></td>
<td style="text-align: left;"><code>init(x: y:)</code></td>
<td style="text-align: left;">Crespi follows Kotlin's "Primary Constructor" pattern with explicit <code>var</code>/<code>let</code> modifiers for properties.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Extensions</strong></td>
<td style="text-align: left;"><code>extension Type { ... }</code> or <code>fn Type.name()</code></td>
<td style="text-align: left;"><code>fun Type.method() { ... }</code></td>
<td style="text-align: left;"><code>extension Type { ... }</code></td>
<td style="text-align: left;">Crespi supports both Swift-style block extensions and Kotlin-style inline extension functions. Extension functions are automatically exposed as plain functions (<code>dual-dispatch</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Inheritance</strong></td>
<td style="text-align: left;"><code>class Dog : Animal</code></td>
<td style="text-align: left;"><code>class Dog : Animal()</code></td>
<td style="text-align: left;"><code>class Dog : Animal</code></td>
<td style="text-align: left;">Crespi uses the colon syntax common to both, without the required parens of Kotlin.</td>
</tr>
</tbody>
</table>
<h2 id="2-control-flow-pattern-matching">2. Control Flow &amp; Pattern Matching<a class="headerlink" href="#2-control-flow-pattern-matching" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
<th style="text-align: left;">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Conditionals</strong></td>
<td style="text-align: left;"><code>if</code>, <code>guard</code></td>
<td style="text-align: left;"><code>if</code> (expression)</td>
<td style="text-align: left;"><code>if</code>, <code>guard</code></td>
<td style="text-align: left;">Crespi includes Swift's <code>guard</code> statement, which Kotlin lacks natively (requires <code>?: return</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Matching</strong></td>
<td style="text-align: left;"><code>when</code> (expression)</td>
<td style="text-align: left;"><code>when</code> (expression)</td>
<td style="text-align: left;"><code>switch</code></td>
<td style="text-align: left;">Crespi uses Kotlin's <code>when</code> keyword but supports Swift-like structural destructuring (e.g., <code>is [a, b] =&gt;</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Loops</strong></td>
<td style="text-align: left;"><code>for x in list</code>, <code>while</code></td>
<td style="text-align: left;"><code>for (x in list)</code>, <code>while</code></td>
<td style="text-align: left;"><code>for x in list</code>, <code>while</code></td>
<td style="text-align: left;">Identical <code>for..in</code> paradigm across all three.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Ranges</strong></td>
<td style="text-align: left;">(In loops via iterators)</td>
<td style="text-align: left;"><code>1..10</code>, <code>1 until 10</code></td>
<td style="text-align: left;"><code>1...10</code>, <code>1..&lt;10</code></td>
<td style="text-align: left;">Crespi currently relies on collection iteration; standard ranges are less syntactic.</td>
</tr>
</tbody>
</table>
<h2 id="3-type-system-null-safety">3. Type System &amp; Null Safety<a class="headerlink" href="#3-type-system-null-safety" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
<th style="text-align: left;">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Typing</strong></td>
<td style="text-align: left;">Static (HM inference)</td>
<td style="text-align: left;">Static (Strong)</td>
<td style="text-align: left;">Static (Strong)</td>
<td style="text-align: left;">Crespi is statically typed with Hindley-Milner style inference. Type annotations are optional due to inference. The interpreter provides relaxed mode (warnings only) for beginners, while the compiler enforces strict type checking.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Type Inference</strong></td>
<td style="text-align: left;">Hindley-Milner style</td>
<td style="text-align: left;">Flow-sensitive</td>
<td style="text-align: left;">Bidirectional</td>
<td style="text-align: left;">Crespi's type checker uses constraint-based type inference with type variable unification.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Null Safety</strong></td>
<td style="text-align: left;"><code>T?</code>, <code>??</code> (Coalesce)</td>
<td style="text-align: left;"><code>T?</code>, <code>?:</code> (Elvis)</td>
<td style="text-align: left;"><code>T?</code>, <code>??</code> (Coalesce)</td>
<td style="text-align: left;">Crespi uses Swift's <code>??</code> operator instead of Kotlin's <code>?:</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Union Types</strong></td>
<td style="text-align: left;"><code>Int \| String</code></td>
<td style="text-align: left;">(Smart casts / <code>Any</code>)</td>
<td style="text-align: left;">(Enums / <code>Result</code>)</td>
<td style="text-align: left;">Crespi supports ad-hoc union types (<code>|</code>) natively, a feature neither Kotlin nor Swift has directly (they use sealed classes/enums).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Type Aliases</strong></td>
<td style="text-align: left;"><code>type UserId = Int</code></td>
<td style="text-align: left;"><code>typealias</code></td>
<td style="text-align: left;"><code>typealias</code></td>
<td style="text-align: left;">Crespi supports type aliases for semantic clarity without runtime overhead.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Immutability</strong></td>
<td style="text-align: left;"><code>let</code> (deep for collections)</td>
<td style="text-align: left;"><code>val</code> (shallow)</td>
<td style="text-align: left;"><code>let</code> (shallow)</td>
<td style="text-align: left;">Crespi enforces stricter immutability: <code>let</code>-bound collections cannot be mutated via <code>.push()</code>, <code>.pop()</code>, etc.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Traits/Interfaces</strong></td>
<td style="text-align: left;"><code>trait</code></td>
<td style="text-align: left;"><code>interface</code></td>
<td style="text-align: left;"><code>protocol</code></td>
<td style="text-align: left;">Crespi's <code>trait</code> is functionally equivalent to Kotlin interfaces and Swift protocols (supporting default implementations).</td>
</tr>
</tbody>
</table>
<h2 id="4-memory-management-runtime">4. Memory Management &amp; Runtime<a class="headerlink" href="#4-memory-management-runtime" title="Permanent link">&para;</a></h2>
<p>This is where the languages diverge most significantly.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
<th style="text-align: left;">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Strategy</strong></td>
<td style="text-align: left;">RefCounting + Cycle Detection</td>
<td style="text-align: left;">Tracing GC (JVM/Native)</td>
<td style="text-align: left;">ARC (Manual Weak Refs)</td>
<td style="text-align: left;">Crespi occupies a middle ground: deterministic cleanup like Swift, but with automatic cycle handling unlike Swift.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Cycle Handling</strong></td>
<td style="text-align: left;"><strong>Automatic</strong> (Mark-and-Sweep backup)</td>
<td style="text-align: left;">Automatic (Tracing GC)</td>
<td style="text-align: left;"><strong>Manual</strong> (<code>weak</code>, <code>unowned</code>)</td>
<td style="text-align: left;">Crespi relieves the developer from thinking about reference cycles, a common pain point in Swift.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Runtime Overhead</strong></td>
<td style="text-align: left;">Moderate (Ref manipulation + Cycle check)</td>
<td style="text-align: left;">Variable (Stop-the-world potential)</td>
<td style="text-align: left;">Low (Deterministic, but hidden costs)</td>
<td style="text-align: left;">Crespi's runtime is lighter than a JVM but heavier than pure C++ due to the cycle detector.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Backing</strong></td>
<td style="text-align: left;">LLVM (AOT)</td>
<td style="text-align: left;">JVM Bytecode / LLVM</td>
<td style="text-align: left;">LLVM</td>
<td style="text-align: left;">Crespi uses LLVM for native codegen.</td>
</tr>
</tbody>
</table>
<p><strong>Deep Dive: Crespi's GC approach</strong>
Crespi implements a <strong>Reference Counting</strong> system augmented with a <strong>Cycle Detector</strong>. Every object header tracks its reference count. When a count hits zero, it is freed immediately (like Swift). However, to solve the "island of isolation" problem (A points to B, B points to A), Crespi's runtime periodically scans the heap (starting from roots) to detect and reclaim unreachable cyclic graphs. This allows Crespi to support closures and complex data structures without forcing the user to learn <code>weak</code> or <code>unowned</code> semantics.</p>
<h2 id="5-uniquedistinctive-features">5. Unique/Distinctive Features<a class="headerlink" href="#5-uniquedistinctive-features" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Language Packs (i18n)</strong>: Crespi has built-in support for localized keywords (e.g., Spanish <code>si</code> instead of <code>if</code>), a feature absent in Kotlin and Swift.</li>
<li><strong>Internationalized Extension Targets</strong>: Extensions in Crespi can target localized type aliases (e.g., <code>extension Texto { ... }</code> or <code>fn Entero.isOdd()</code>). This allows library authors to write APIs that feel native to the user's language.</li>
<li><strong>Dual Engine</strong>: Crespi explicitly maintains parity between an Interpreter (for REPL/Web) and a Native Compiler. Kotlin has multiple backends but is primarily compiler-driven; Swift is natively compiled.</li>
<li><strong>Decorator System</strong>: Crespi supports Python/JS-style decorators (<code>@memoize</code>) natively. Kotlin uses Annotations (<code>@Target</code>) which are metadata, whereas Crespi decorators can wrap behavior at runtime.</li>
<li><strong>Ad-Hoc Union Types</strong>: <code>fn parse(x) -&gt; Int | Error</code> is a first-class citizen in Crespi. Swift requires <code>enum</code> wrappers; Kotlin requires sealed classes or <code>Any</code>.</li>
<li><strong>Static Class Members</strong>: Crespi supports <code>static</code> fields, methods, and initialization blocks within classes. Static blocks execute during class definition, enabling complex initialization logic.</li>
<li><strong>Extension Functions</strong>: Beyond Swift-style <code>extension Type { ... }</code> blocks, Crespi also supports Kotlin-style inline extension functions via <code>fn Type.method()</code> syntax. These are automatically exposed as plain functions for library compatibility (dual-dispatch).</li>
</ul>
<h2 id="6-missing-features-gaps-vs-kotlinswift">6. Missing Features (Gaps vs. Kotlin/Swift)<a class="headerlink" href="#6-missing-features-gaps-vs-kotlinswift" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Concurrency</strong>: Kotlin has <strong>Coroutines</strong> (suspend functions), Swift has <strong>Async/Await</strong> (Actors). Crespi now has <code>async</code>/<code>await</code>, but still lacks a true concurrency runtime (scheduler, threads, or actors).</li>
<li><strong>Properties</strong>: Kotlin and Swift have sophisticated property observers (<code>get</code>/<code>set</code>, <code>willSet</code>, <code>didSet</code>). Crespi has basic fields and methods.</li>
<li><strong>Advanced Generics</strong>: Swift supports recursive protocol constraints and opaque types (<code>some View</code>). Crespi's generics are currently simpler, focusing on container parameterization.</li>
</ul>
<h2 id="61-recently-added-features">6.1 Recently Added Features<a class="headerlink" href="#61-recently-added-features" title="Permanent link">&para;</a></h2>
<p>The following features have been added to close gaps with Kotlin/Swift:</p>
<ul>
<li><strong><code>async</code>/<code>await</code> Syntax</strong>: Async functions now return <code>Task</code> values, and <code>await</code> unwraps them (eager execution; no scheduler yet).</li>
<li><strong><code>fileprivate</code> Visibility</strong>: Swift-style file-scoped visibility modifier now available (<code>fileprivate fn helper()</code>).</li>
<li><strong>Increment/Decrement Operators</strong>: <code>i++</code> and <code>i--</code> as postfix statement-only operators (equivalent to <code>i += 1</code> and <code>i -= 1</code>).</li>
<li><strong>Generic Function Syntax</strong>: Type parameters now come after <code>fn</code>: <code>fn [T] identity(x: T) -&gt; T</code> (instead of <code>fn identity[T]()</code>).</li>
<li><strong>Primary Constructor Property Modifiers</strong>: Explicit <code>var</code>/<code>let</code> required for constructor parameters to become properties: <code>class Point(let x: Int, var y: Int)</code>. Parameters without modifiers are constructor-only arguments.</li>
<li><strong>Extension Function Types</strong>: Lambda parameter types can specify a receiver: <code>fn apply(block: String.() -&gt; Int)</code> and <code>fn map(transform: T.(Int) -&gt; U)</code>.</li>
</ul>
<h2 id="7-compiler-optimization-roadmap">7. Compiler Optimization Roadmap<a class="headerlink" href="#7-compiler-optimization-roadmap" title="Permanent link">&para;</a></h2>
<h3 id="current-state">Current State<a class="headerlink" href="#current-state" title="Permanent link">&para;</a></h3>
<p>Crespi's compiler (<code>crespi-llvm</code>) lowers High-Level IR (HIR) to LLVM IR. The HIR optimizer still handles constant folding, dead code elimination, and inlining (<code>-O1/-O2</code>), while LLVM's pass pipeline will provide low-level optimizations (instruction selection, register allocation, scheduling).</p>
<h3 id="lessons-from-kotlin-swift">Lessons from Kotlin &amp; Swift<a class="headerlink" href="#lessons-from-kotlin-swift" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Swift's SIL (Swift Intermediate Language)</strong>: Swift uses a high-level IR to perform domain-specific optimizations <em>before</em> lowering to LLVM. Key optimizations include:<ul>
<li><strong>Definite Initialization</strong>: Ensuring all variables are initialized before use (Crespi does this in the resolver, but could be more robust).</li>
<li><strong>ARC Optimization</strong>: Removing redundant retain/release pairs. Crespi's cycle detector could benefit from static analysis to elide refcounting for stack-local variables.</li>
<li><strong>Generic Specialization</strong>: Creating specialized versions of generic functions for specific types to avoid boxing overhead.</li>
</ul>
</li>
<li><strong>Kotlin's Inline Functions</strong>: Kotlin aggressively inlines lambdas to avoid allocation overhead. This is crucial for higher-order functions like <code>map</code> and <code>filter</code>.</li>
</ul>
<h3 id="recommended-improvements-for-crespi">Recommended Improvements for Crespi<a class="headerlink" href="#recommended-improvements-for-crespi" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>HIR Optimization Pass</strong>: Introduce or expand transformation passes on the HIR <em>before</em> LLVM lowering.<ul>
<li><strong>Constant Folding</strong>: Pre-calculate constant expressions (e.g., <code>1 + 2</code> -&gt; <code>3</code>).</li>
<li><strong>Dead Code Elimination</strong>: Remove unreachable branches early.</li>
</ul>
</li>
<li><strong>Inlining Support</strong>: Implement an <code>@inline</code> decorator and logic to substitute function bodies at call sites, specifically for closures used in control flow.</li>
<li><strong>Specialized Generics</strong>: currently, Crespi generics are duck-typed/erased. Generating specialized machine code for <code>List[Int]</code> vs <code>List[Float]</code> would significantly improve numeric performance.</li>
<li><strong>Escape Analysis</strong>: Analyze closure captures to allocate environments on the stack instead of the heap when they don't escape the function scope.</li>
</ol>
<h2 id="8-generics-metaprogramming">8. Generics &amp; Metaprogramming<a class="headerlink" href="#8-generics-metaprogramming" title="Permanent link">&para;</a></h2>
<h3 id="generics">Generics<a class="headerlink" href="#generics" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Swift</strong>: Highly sophisticated system with conditional conformances (e.g., <code>Array&lt;T&gt;</code> is <code>Equatable</code> only if <code>T</code> is <code>Equatable</code>), recursive protocol constraints, and opaque types (<code>some View</code>). Generics are reified at runtime or specialized at compile time.</li>
<li><strong>Kotlin</strong>: Supports reified type parameters only in inline functions. Standard generics are erased at runtime (similar to Java), but the frontend (FIR) performs advanced flow-sensitive typing (smart casts).</li>
<li><strong>Crespi</strong>: Currently uses a "duck-typed" generics system. <code>List[T]</code> is syntactically parsed, but <code>T</code> is effectively <code>Any</code> at runtime. The compiler does not yet generate specialized machine code for <code>List[Int]</code> vs <code>List[String]</code>.</li>
</ul>
<h3 id="metaprogramming">Metaprogramming<a class="headerlink" href="#metaprogramming" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Swift</strong>: Macros (compiler plugins) allow syntactic transformations at compile time. Property wrappers (<code>@State</code>, <code>@Published</code>) provide behavior injection for fields.</li>
<li><strong>Kotlin</strong>: Compiler plugins (KSP/Kapt) allow code generation. Delegated properties (<code>by lazy</code>) provide a mechanism similar to Swift's property wrappers but are part of the language core.</li>
<li><strong>Crespi</strong>: Supports <strong>Decorators</strong> (<code>@memoize</code>) which are applied at <em>runtime</em> in the interpreter and lowered to wrappers in the compiler. This is closer to Python's dynamic decorators than Swift's macros.</li>
</ul>
<h2 id="9-concurrency">9. Concurrency<a class="headerlink" href="#9-concurrency" title="Permanent link">&para;</a></h2>
<p>This is the most significant functional gap between Crespi and its peers.</p>
<ul>
<li><strong>Swift</strong>: <strong>Structured Concurrency</strong>. First-class <code>async</code>/<code>await</code> syntax, <code>Task</code> groups, and <strong>Actors</strong> for data isolation. The runtime manages a thread pool, and the compiler enforces thread safety via <code>Sendable</code> checks.</li>
<li><strong>Kotlin</strong>: <strong>Coroutines</strong>. Lightweight threads (suspend functions) that multiplex over system threads. Supports <code>async</code>/<code>await patterns and</code>Flow` for streams.</li>
<li><strong>Crespi</strong>: <strong>Eager async/await (single-threaded)</strong>.<ul>
<li><strong>Current State</strong>: <code>async</code>/<code>await</code> is available, but async functions execute immediately and return completed <code>Task</code> values. There is still no scheduler, threads, or actors.</li>
<li><strong>Runtime Hooks</strong>: The GC implementation (<code>gc.rs</code>) mentions "atomic reference counting hooks" for future threading support, but the current <code>GcContext</code> is fundamentally single-threaded.</li>
</ul>
</li>
</ul>
<h2 id="10-error-handling-diagnostics">10. Error Handling &amp; Diagnostics<a class="headerlink" href="#10-error-handling-diagnostics" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
<th style="text-align: left;">Analysis</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Paradigm</strong></td>
<td style="text-align: left;">Union Types / Result</td>
<td style="text-align: left;">Unchecked Exceptions</td>
<td style="text-align: left;"><code>throws</code> / <code>try</code> (Result-like)</td>
<td style="text-align: left;">Crespi treats errors as values, whereas Kotlin/Swift use more traditional exception models (though Swift's is technically a typed Result sugar).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Syntax</strong></td>
<td style="text-align: left;"><code>Int \| Error</code></td>
<td style="text-align: left;"><code>throw Exception()</code></td>
<td style="text-align: left;"><code>throw Error</code>, <code>try</code></td>
<td style="text-align: left;">Crespi avoids the "hidden control flow" of exceptions by making errors part of the return type.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Diagnostics</strong></td>
<td style="text-align: left;">i18n-aware (Fluent)</td>
<td style="text-align: left;">English-centric</td>
<td style="text-align: left;">English-centric</td>
<td style="text-align: left;">Crespi is uniquely designed to provide compiler errors in the user's native language.</td>
</tr>
</tbody>
</table>
<h2 id="11-ffi-interoperability">11. FFI &amp; Interoperability<a class="headerlink" href="#11-ffi-interoperability" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Swift</strong>: <strong>Clang Importer</strong>. Swift can directly import C and Objective-C headers. The compiler automatically maps C types to Swift types.</li>
<li><strong>Kotlin</strong>: <strong>cinterop (Native)</strong> / <strong>JNI (JVM)</strong>. Kotlin/Native uses a tool to generate "interop klibs" from C headers.</li>
<li><strong>Crespi</strong>: <strong>Native Runtime Registry + Marshaling Traits</strong>.<ul>
<li><strong>Runtime Registry</strong>: Crespi supports calling Rust-defined functions via a <code>NativeFn</code> registry in the runtime (<code>crespi-runtime</code>). These functions must follow the <code>extern "C"</code> ABI.</li>
<li><strong>Marshaling Layer</strong>: The <code>crespi-ffi</code> crate provides <code>FromCrespi</code> and <code>ToCrespi</code> traits for automatic type conversion between Crespi values and Rust types. Supported types include primitives (<code>i32</code>, <code>i64</code>, <code>f64</code>, <code>bool</code>, <code>String</code>), collections (<code>Vec&lt;T&gt;</code>, <code>HashMap&lt;String, T&gt;</code>), and <code>Option&lt;T&gt;</code>.</li>
<li><strong>Native Function Signature</strong>: <code>extern "C" fn(&amp;mut GcContext, *const CrespiValue, usize) -&gt; CrespiValue</code></li>
<li><strong>Multi-Language Vision</strong>: The FFI architecture is designed to support additional languages in the future through the C ABI foundation.</li>
</ul>
</li>
</ul>
<h2 id="12-ecosystem-tooling">12. Ecosystem &amp; Tooling<a class="headerlink" href="#12-ecosystem-tooling" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Swift</strong>: <strong>Swift Package Manager (SPM)</strong>. Integrated into the compiler. Highly mature ecosystem centered around Apple platforms but expanding to Server/Linux.</li>
<li><strong>Kotlin</strong>: <strong>Gradle</strong>. Extremely powerful but complex build system. Multiplatform (KMP) support is a major strength.</li>
<li><strong>Crespi</strong>: <strong>Early Stage</strong>.<ul>
<li><strong>Build System</strong>: Currently relies on <code>cargo</code> (for the compiler itself) and simple shell scripts for project management. No native "Crespi Package Manager" yet.</li>
<li><strong>Standard Library</strong>: 60+ built-in functions compiled as a separate static library (<code>crespi-builtins</code>), including math, string manipulation, functional collection methods, and I/O. All functions have English and Spanish aliases.</li>
<li><strong>Tooling</strong>: Strong VSCode integration via a dedicated LSP in a separate repository (<code>crespi-ide-support</code>), providing hover, go-to-definition, completions, and diagnostic support.</li>
<li><strong>Web</strong>: First-class WASM support allows the interpreter to run directly in browsers with full IntelliSense (via <code>crespi-wasm</code> repo).</li>
</ul>
</li>
</ul>
<h2 id="13-reflection-introspection">13. Reflection &amp; Introspection<a class="headerlink" href="#13-reflection-introspection" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Swift</strong>: <strong>Mirror API</strong>. Provides read-only introspection of types and values. Swift also has strong compile-time type information but limited runtime manipulation compared to Java.</li>
<li><strong>Kotlin</strong>: <strong>Full Reflection</strong>. Built on JVM reflection, providing deep access to properties, methods, and annotations at runtime.</li>
<li><strong>Crespi</strong>: <strong>Basic Introspection</strong>.<ul>
<li><strong>Built-in</strong>: <code>typeof(x)</code> returns a string representation of the type.</li>
<li><strong>Static Typing with Relaxed Mode</strong>: Crespi is statically typed with optional annotations (due to HM inference). The interpreter provides a relaxed mode where type errors appear as warnings but execution continues, making it beginner-friendly while maintaining type safety in compiled code.</li>
</ul>
</li>
</ul>
<h2 id="14-type-system-nuances">14. Type System Nuances<a class="headerlink" href="#14-type-system-nuances" title="Permanent link">&para;</a></h2>
<h3 id="variance-generics">Variance (Generics)<a class="headerlink" href="#variance-generics" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Kotlin</strong>: <strong>Declaration-site variance</strong> (<code>out</code>/<code>in</code> keywords).</li>
<li><strong>Swift</strong>: Uses generics without explicit variance keywords but handles it through subtyping and protocol requirements.</li>
<li><strong>Crespi</strong>: <strong>Implicit/Erased</strong>. Crespi does not currently enforce variance. Generics are closer to "syntax sugar" for the type checker, and the runtime treats them as <code>Any</code>.</li>
</ul>
<h3 id="enums-vs-union-types">Enums vs. Union Types<a class="headerlink" href="#enums-vs-union-types" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Kotlin/Swift</strong>: Heavy reliance on <strong>Enums</strong> (Sum Types) for modeling state and errors.</li>
<li><strong>Crespi</strong>: Reliance on <strong>Ad-hoc Union Types</strong> (<code>A | B</code>). Crespi does not have a formal <code>enum</code> keyword; it achieves the same goals through union types and class hierarchies.</li>
</ul>
<h2 id="15-target-platforms-portability">15. Target Platforms &amp; Portability<a class="headerlink" href="#15-target-platforms-portability" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Platform</th>
<th style="text-align: left;"><strong>Crespi</strong></th>
<th style="text-align: left;"><strong>Kotlin</strong></th>
<th style="text-align: left;"><strong>Swift</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Mobile (iOS/Android)</strong></td>
<td style="text-align: left;">No (Planned)</td>
<td style="text-align: left;"><strong>Primary</strong> (KMP)</td>
<td style="text-align: left;"><strong>Primary</strong> (iOS)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Web (Browser)</strong></td>
<td style="text-align: left;"><strong>Yes</strong> (External Repo)</td>
<td style="text-align: left;">Yes (JS/WASM)</td>
<td style="text-align: left;">Experimental (WASM)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Server/Desktop</strong></td>
<td style="text-align: left;"><strong>Yes</strong> (Native)</td>
<td style="text-align: left;"><strong>Primary</strong> (JVM)</td>
<td style="text-align: left;"><strong>Primary</strong> (Linux/macOS)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Embedded</strong></td>
<td style="text-align: left;">No</td>
<td style="text-align: left;">Yes (Native)</td>
<td style="text-align: left;">Yes (Embedded Swift)</td>
</tr>
</tbody>
</table>
<h2 id="16-philosophy-design-goals">16. Philosophy &amp; Design Goals<a class="headerlink" href="#16-philosophy-design-goals" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Swift</strong>: "Safe, Fast, Expressive." Focuses on performance (LLVM), safety (ARC/Exclusivity), and ABI stability.</li>
<li><strong>Kotlin</strong>: "Pragmatic, Concise, Safe." Focuses on interoperability (JVM), developer productivity, and multiplatform sharing.</li>
<li><strong>Crespi</strong>: <strong>"Accessible, Modern, Consistent."</strong><ul>
<li><strong>i18n first</strong>: Breaking the "English-only" barrier of programming.</li>
<li><strong>Dual Engine</strong>: Providing the same language experience for both high-speed native execution and low-overhead scripting/web use.</li>
<li><strong>Hybrid Safety</strong>: Merging the structural safety of Swift (<code>guard</code>, strict init) with the ergonomic flexibility of Kotlin.</li>
</ul>
</li>
</ul>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p><strong>Crespi</strong> positions itself as a "best-of-breed" language:</p>
<ol>
<li><strong>Ergonomics</strong>: It takes the concise <code>fn</code> and <code>let</code> from functional languages (Rust/Swift).</li>
<li><strong>Structure</strong>: It adopts Kotlin's primary constructors and <code>when</code> expression.</li>
<li><strong>Safety</strong>: It adopts Swift's <code>guard</code> and strict initialization, but automates memory management further than Swift by handling cycles.</li>
<li><strong>Innovation</strong>: It adds native <strong>Union Types</strong>, <strong>Language Packs</strong>, and <strong>Internationalized Extensions</strong>, differentiating it from its predecessors.</li>
</ol>
<p>Crespi is less mature regarding concurrency and memory model tooling compared to the battle-tested JVM (Kotlin) or ARC (Swift) ecosystems, but its syntax is a modern, cohesive blend of both.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.sections", "navigation.expand", "navigation.indexes", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
      
        <script src="../assets/javascripts/hljs-crespi.js"></script>
      
        <script src="../assets/javascripts/hljs-antlr.js"></script>
      
        <script src="../assets/javascripts/hljs-loader.js"></script>
      
    
  </body>
</html>